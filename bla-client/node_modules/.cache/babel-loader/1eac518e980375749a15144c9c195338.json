{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport axios from '../api/axios';\nimport useAuth from './useAuth';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nconst useLogout = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    setAuth\n  } = useAuth();\n\n  const Logout = async () => {\n    _s();\n\n    var _location$state, _location$state$from;\n\n    const navigate = useNavigate();\n    const location = useLocation();\n    const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : (_location$state$from = _location$state.from) === null || _location$state$from === void 0 ? void 0 : _location$state$from.pathname) || \"/home\";\n    setAuth({});\n\n    try {\n      const response = await axios('/api/logout', {\n        withCredentials: true\n      });\n      navigate(from, {\n        replace: true\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  _s(Logout, \"VDZHUspDq9N5O9RWjniBrjgIdAA=\", false, function () {\n    return [useNavigate, useLocation];\n  });\n\n  return Logout;\n};\n\n_s2(useLogout, \"ULyvyk72gQF34wX4GH57egc/0Yo=\", false, function () {\n  return [useAuth];\n});\n\nexport default useLogout;","map":{"version":3,"sources":["/Users/mikedagawd/services/bla-client/src/hooks/useLogout.js"],"names":["axios","useAuth","useNavigate","useLocation","useLogout","setAuth","Logout","navigate","location","from","state","pathname","response","withCredentials","replace","err","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,cAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAAA;;AACpB,QAAM;AAAEC,IAAAA;AAAF,MAAcJ,OAAO,EAA3B;;AACA,QAAMK,MAAM,GAAG,YAAY;AAAA;;AAAA;;AAE3B,UAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,UAAMM,QAAQ,GAAGL,WAAW,EAA5B;AACA,UAAMM,IAAI,GAAG,oBAAAD,QAAQ,CAACE,KAAT,4FAAgBD,IAAhB,8EAAsBE,QAAtB,KAAkC,OAA/C;AAEAN,IAAAA,OAAO,CAAC,EAAD,CAAP;;AACI,QAAI;AACA,YAAMO,QAAQ,GAAG,MAAMZ,KAAK,CAAC,aAAD,EAAgB;AACxCa,QAAAA,eAAe,EAAE;AADuB,OAAhB,CAA5B;AAGAN,MAAAA,QAAQ,CAACE,IAAD,EAAO;AAAEK,QAAAA,OAAO,EAAE;AAAX,OAAP,CAAR;AACH,KALD,CAKE,OAAOC,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,GAfD;;AAFoB,KAEdT,MAFc;AAAA,YAIHJ,WAJG,EAKHC,WALG;AAAA;;AAkBpB,SAAOG,MAAP;AACH,CAnBD;;IAAMF,S;UACkBH,O;;;AAoBxB,eAAeG,SAAf","sourcesContent":["import axios from '../api/axios';\nimport useAuth from './useAuth';\n\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nconst useLogout = () => {\n    const { setAuth } = useAuth();\n    const Logout = async () => {\n\n    const navigate = useNavigate();\n    const location = useLocation();\n    const from = location.state?.from?.pathname || \"/home\";\n\n    setAuth({});\n        try {\n            const response = await axios('/api/logout', {\n                withCredentials: true\n            });\n            navigate(from, { replace: true });\n        } catch (err) {\n            console.log(err)\n        }\n    }\n    return Logout\n}\n\nexport default useLogout;"]},"metadata":{},"sourceType":"module"}